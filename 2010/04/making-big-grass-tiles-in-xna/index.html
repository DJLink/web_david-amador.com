<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Making Big Grass Tiled Backgrounds in XNA | David Amador</title>
<meta name="keywords" content="tiling, XNA">
<meta name="description" content="Iâ€™ve seen this quite a bit around on XNA forums and got 2 emails last week asking about this:

I want to make a 3000Ã—3000 grass background by tiling this small grass image I have. Should I make one big image or should I make a for cycle drawing the image (3000/TileSize) times?

My answer is neither of them. The big image has a huge impact on every Draw and more, you are limiting your map to the max Texture Size the graphic card can handle.">
<meta name="author" content="David Amador">
<link rel="canonical" href="https://www.david-amador.com/2010/04/making-big-grass-tiles-in-xna/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.2c13149ef6637a8420c910182a7238d9bd313163d752ae39ada49bac8f1e7335.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://www.david-amador.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.david-amador.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.david-amador.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.david-amador.com/david-amador-pixel.png">
<link rel="mask-icon" href="https://www.david-amador.com/david-amador-pixel.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://www.david-amador.com/2010/04/making-big-grass-tiles-in-xna/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><script defer src="https://eu.umami.is/script.js" data-website-id="8dd501c4-c632-4f5b-8bc9-8d339e3e26ed"></script>
<meta property="og:url" content="https://www.david-amador.com/2010/04/making-big-grass-tiles-in-xna/">
  <meta property="og:site_name" content="David Amador">
  <meta property="og:title" content="Making Big Grass Tiled Backgrounds in XNA">
  <meta property="og:description" content="Iâ€™ve seen this quite a bit around on XNA forums and got 2 emails last week asking about this:
I want to make a 3000Ã—3000 grass background by tiling this small grass image I have. Should I make one big image or should I make a for cycle drawing the image (3000/TileSize) times?
My answer is neither of them. The big image has a huge impact on every Draw and more, you are limiting your map to the max Texture Size the graphic card can handle.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2010-04-19T21:57:12+00:00">
    <meta property="article:modified_time" content="2010-04-19T21:57:12+00:00">
    <meta property="article:tag" content="Tiling">
    <meta property="article:tag" content="XNA">
    <meta property="og:image" content="https://www.david-amador.com/wp-content/uploads/2010/04/tiling_02.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://www.david-amador.com/wp-content/uploads/2010/04/tiling_02.jpg">
<meta name="twitter:title" content="Making Big Grass Tiled Backgrounds in XNA">
<meta name="twitter:description" content="Iâ€™ve seen this quite a bit around on XNA forums and got 2 emails last week asking about this:

I want to make a 3000Ã—3000 grass background by tiling this small grass image I have. Should I make one big image or should I make a for cycle drawing the image (3000/TileSize) times?

My answer is neither of them. The big image has a huge impact on every Draw and more, you are limiting your map to the max Texture Size the graphic card can handle.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://www.david-amador.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Making Big Grass Tiled Backgrounds in XNA",
      "item": "https://www.david-amador.com/2010/04/making-big-grass-tiles-in-xna/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Making Big Grass Tiled Backgrounds in XNA",
  "name": "Making Big Grass Tiled Backgrounds in XNA",
  "description": "Iâ€™ve seen this quite a bit around on XNA forums and got 2 emails last week asking about this:\nI want to make a 3000Ã—3000 grass background by tiling this small grass image I have. Should I make one big image or should I make a for cycle drawing the image (3000/TileSize) times?\nMy answer is neither of them. The big image has a huge impact on every Draw and more, you are limiting your map to the max Texture Size the graphic card can handle.\n",
  "keywords": [
    "tiling", "XNA"
  ],
  "articleBody": "Iâ€™ve seen this quite a bit around on XNA forums and got 2 emails last week asking about this:\nI want to make a 3000Ã—3000 grass background by tiling this small grass image I have. Should I make one big image or should I make a for cycle drawing the image (3000/TileSize) times?\nMy answer is neither of them. The big image has a huge impact on every Draw and more, you are limiting your map to the max Texture Size the graphic card can handle.\nThe drawing lots of small images can actually work, if they are few. Letâ€™s say your small texture size is 64Ã—64. That means in order to fill up the 3000Ã—3000 you have to draw it (3000/64) = 47 times. Since itâ€™s a 3000Ã—3000 that sums to (47Ã—47) = 2209 Draws. Just for a background. Not to mention the rest of the actual game ðŸ˜›\nWhat if you could do this in just one Draw()?\nItâ€™s very very easy to achieve this effect by setting TextureAddressMode to Wrap. Basically giving it a bigger Rectangle but telling to wrap the texture so you are gonna get tiles =)\nspriteBatch.Begin(SpriteBlendMode.AlphaBlend,SpriteSortMode.Immediate,SaveStateMode.None); GraphicsDevice.SamplerStates[0].AddressU = TextureAddressMode.Wrap; GraphicsDevice.SamplerStates[0].AddressV = TextureAddressMode.Wrap; Next we draw a texture with a big source rectangle\nRectangle source = new Rectangle(0, 0, 400, 200); spriteBatch.Draw(texture, Vector2.Zero, source, Color.White, 0, Vector2.Zero, 1.0f, SpriteEffects.None, 0.5f); So instead of this:\nYou end up with this:\nOn a small test I made, using a 30000Ã—30000 Rectangle I got a frame drop to 35 FPS by doing tons of regular Draws, when switching to Wrap mode a solid 60 FPS.\nAs I told you itâ€™s very easy. Iâ€™ll write more advance tutorial one of this days on how to achieve cool effect like mixing two textures with a noise/normal map.\nYou can play with this sample by downloading it here.\n",
  "wordCount" : "308",
  "inLanguage": "en",
  "image":"https://www.david-amador.com/wp-content/uploads/2010/04/tiling_02.jpg","datePublished": "2010-04-19T21:57:12Z",
  "dateModified": "2010-04-19T21:57:12Z",
  "author":{
    "@type": "Person",
    "name": "David Amador"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.david-amador.com/2010/04/making-big-grass-tiles-in-xna/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "David Amador",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.david-amador.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.david-amador.com/" accesskey="h" title="David Amador (Alt + H)">
                <img src="https://www.david-amador.com/david-amador-pixel.png" alt="" aria-label="logo"
                    height="35">David Amador</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.david-amador.com/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://www.david-amador.com/games/" title="Games">
                    <span>Games</span>
                </a>
            </li>
            <li>
                <a href="https://www.david-amador.com/portfolio/" title="Portfolio">
                    <span>Portfolio</span>
                </a>
            </li>
            <li>
                <a href="https://www.david-amador.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://www.david-amador.com/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://www.david-amador.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://www.david-amador.com/">Home</a>&nbsp;Â»&nbsp;<a href="https://www.david-amador.com/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Making Big Grass Tiled Backgrounds in XNA
    </h1>
    <div class="post-meta"><span title='2010-04-19 21:57:12 +0000 UTC'>April 19, 2010</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;308 words&nbsp;Â·&nbsp;David Amador

</div>
  </header> 
<figure class="entry-cover"><img loading="eager" src="https://www.david-amador.com/wp-content/uploads/2010/04/tiling_02.jpg" alt="">
        
</figure>
  <div class="post-content"><p>Iâ€™ve seen this quite a bit around on XNA forums and got 2 emails last week asking about this:</p>
<blockquote>
<p>I want to make a 3000Ã—3000 grass background by tiling this small grass image I have. Should I make one big image or should I make a for cycle drawing the image (3000/TileSize) times?</p>
</blockquote>
<p>My answer is neither of them. The big image has a huge impact on every Draw and more, you are limiting your map to the max Texture Size the graphic card can handle.</p>
<p>The drawing lots of small images can actually work, if they are few. Letâ€™s say your small texture size is 64Ã—64. That means in order to fill up the 3000Ã—3000 you have to draw it (3000/64) = 47 times. Since itâ€™s a 3000Ã—3000 that sums to (47Ã—47) = 2209 Draws. Just for a background. Not to mention the rest of the actual game ðŸ˜›</p>
<p>What if you could do this in just one Draw()?</p>
<p>Itâ€™s very very easy to achieve this effect by setting TextureAddressMode to Wrap. Basically giving it a bigger Rectangle but telling to wrap the texture so you are gonna get tiles =)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">     <span class="n">spriteBatch</span><span class="p">.</span><span class="n">Begin</span><span class="p">(</span><span class="n">SpriteBlendMode</span><span class="p">.</span><span class="n">AlphaBlend</span><span class="p">,</span><span class="n">SpriteSortMode</span><span class="p">.</span><span class="n">Immediate</span><span class="p">,</span><span class="n">SaveStateMode</span><span class="p">.</span><span class="n">None</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="n">GraphicsDevice</span><span class="p">.</span><span class="n">SamplerStates</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">AddressU</span> <span class="p">=</span> <span class="n">TextureAddressMode</span><span class="p">.</span><span class="n">Wrap</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="n">GraphicsDevice</span><span class="p">.</span><span class="n">SamplerStates</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">AddressV</span> <span class="p">=</span> <span class="n">TextureAddressMode</span><span class="p">.</span><span class="n">Wrap</span><span class="p">;</span>
</span></span></code></pre></div><p>Next we draw a texture with a big source rectangle</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">     <span class="n">Rectangle</span> <span class="n">source</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Rectangle</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">400</span><span class="p">,</span> <span class="m">200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="n">spriteBatch</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">texture</span><span class="p">,</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">Zero</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">Color</span><span class="p">.</span><span class="n">White</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">Zero</span><span class="p">,</span> <span class="m">1.0f</span><span class="p">,</span> <span class="n">SpriteEffects</span><span class="p">.</span><span class="n">None</span><span class="p">,</span> <span class="m">0.5f</span><span class="p">);</span>
</span></span></code></pre></div><p>So instead of this:</p>
<p><a href="/wp-content/uploads/2010/04/tiling_01.jpg"><img loading="lazy" src="/wp-content/uploads/2010/04/tiling_01-300x234.jpg" title="tiling_01"></a></p>
<p>You end up with this:</p>
<p><a href="/wp-content/uploads/2010/04/tiling_02.jpg"><img loading="lazy" src="/wp-content/uploads/2010/04/tiling_02-300x234.jpg" title="tiling_02"></a></p>
<p>On a small test I made, using a 30000Ã—30000 Rectangle I got a frame drop to 35 FPS by doing tons of regular Draws, when switching to Wrap mode a solid 60 FPS.</p>
<p>As I told you itâ€™s very easy. Iâ€™ll write more advance tutorial one of this days on how to achieve cool effect like mixing two textures with a noise/normal map.</p>
<p>You can play with this sample by downloading it <a href="/xna_code/TilingSprites.zip">here</a>.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.david-amador.com/tags/tiling/">Tiling</a></li>
      <li><a href="https://www.david-amador.com/tags/xna/">XNA</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://www.david-amador.com/2010/05/vizati-in-windows-phone-7/">
    <span class="title">Â« Prev</span>
    <br>
    <span>Vizati on Windows Phone 7</span>
  </a>
  <a class="next" href="https://www.david-amador.com/2010/04/testing-the-new-visual-studio-2010-features/">
    <span class="title">Next Â»</span>
    <br>
    <span>Testing the new Visual Studio 2010 features</span>
  </a>
</nav>

  </footer><div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "upfallstudios" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://www.david-amador.com/">David Amador</a></span>
	
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
