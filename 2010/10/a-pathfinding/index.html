<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>A* Pathfinding | David Amador</title>
<meta name=keywords content="AI,AStar,pathfinding"><meta name=description content="For my current project I’ve been working with A* as a path-finding solution.
Basically it’s a way to get from point A to point B.
This is used for AI in games mostly on tiled based games, It’s very simple to understand and implement.
As A* traverses the graph, it follows a path of the lowest known cost, keeping a sorted priority queue of alternate path segments along the way. If, at any point, a segment of the path being traversed has a higher cost than another encountered path segment, it abandons the higher-cost path segment and traverses the lower-cost path segment instead."><meta name=author content="David Amador"><link rel=canonical href=https://www.david-amador.com/2010/10/a-pathfinding/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://www.david-amador.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://www.david-amador.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://www.david-amador.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://www.david-amador.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://www.david-amador.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="A* Pathfinding"><meta property="og:description" content="For my current project I’ve been working with A* as a path-finding solution.
Basically it’s a way to get from point A to point B.
This is used for AI in games mostly on tiled based games, It’s very simple to understand and implement.
As A* traverses the graph, it follows a path of the lowest known cost, keeping a sorted priority queue of alternate path segments along the way. If, at any point, a segment of the path being traversed has a higher cost than another encountered path segment, it abandons the higher-cost path segment and traverses the lower-cost path segment instead."><meta property="og:type" content="article"><meta property="og:url" content="https://www.david-amador.com/2010/10/a-pathfinding/"><meta property="og:image" content="https://www.david-amador.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2010-10-27T10:48:46+00:00"><meta property="article:modified_time" content="2010-10-27T10:48:46+00:00"><meta property="og:site_name" content="David Amador"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.david-amador.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="A* Pathfinding"><meta name=twitter:description content="For my current project I’ve been working with A* as a path-finding solution.
Basically it’s a way to get from point A to point B.
This is used for AI in games mostly on tiled based games, It’s very simple to understand and implement.
As A* traverses the graph, it follows a path of the lowest known cost, keeping a sorted priority queue of alternate path segments along the way. If, at any point, a segment of the path being traversed has a higher cost than another encountered path segment, it abandons the higher-cost path segment and traverses the lower-cost path segment instead."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.david-amador.com/posts/"},{"@type":"ListItem","position":2,"name":"A* Pathfinding","item":"https://www.david-amador.com/2010/10/a-pathfinding/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"A* Pathfinding","name":"A* Pathfinding","description":"For my current project I’ve been working with A* as a path-finding solution.\nBasically it’s a way to get from point A to point B.\nThis is used for AI in games mostly on tiled based games, It’s very simple to understand and implement.\nAs A* traverses the graph, it follows a path of the lowest known cost, keeping a sorted priority queue of alternate path segments along the way. If, at any point, a segment of the path being traversed has a higher cost than another encountered path segment, it abandons the higher-cost path segment and traverses the lower-cost path segment instead.","keywords":["AI","AStar","pathfinding"],"articleBody":"For my current project I’ve been working with A* as a path-finding solution.\nBasically it’s a way to get from point A to point B.\nThis is used for AI in games mostly on tiled based games, It’s very simple to understand and implement.\nAs A* traverses the graph, it follows a path of the lowest known cost, keeping a sorted priority queue of alternate path segments along the way. If, at any point, a segment of the path being traversed has a higher cost than another encountered path segment, it abandons the higher-cost path segment and traverses the lower-cost path segment instead. This process continues until the goal is reached.\nThe major choke point is the heuristic used to calculate which node to take next. I’ve started by using Manhattan Distance.\nIts primary advantage is that it will generally get you to the target faster than most alternatives. Its primary drawback is that in a 8-way pathfinder so it is not guaranteed to give us the shortest possible path.\nfloat cost = 10*(abs(currentX-targetX) + abs(currentY-targetY)) Although it works fast it’s not accurate and if I forced for finding the shortest possible it was rather slow for my 80×44 grid (3520 tiles), sometimes taking 3-4 seconds to find a path.\nI decided to take another approach and using Diagonal Shortcut, its primary advantage is that, because it is balanced, it is able to fully consider small modifiers like a turning penalty or influence map modifier like having a non walkable tile, a rock, a tree, whatever. It is a bit slower than the Manhattan method, though.\nfloat cost; float xDistance = abs(currentX-targetX) float yDistance = abs(currentY-targetY) if (xDistance \u003e yDistance) cost = 14*yDistance + 10*(xDistance-yDistance) else cost = 14*xDistance + 10*(yDistance-xDistance) In case you are wondering the 10 and the 14 are to define if it’s a diagonal or a horizontal/vertical movement since diagonals take longer to traverse than straight lines of course.\nAfter I’m getting much faster movements.\nIt’s not that Manhattan is worse and you shouldn’t use it, it all depends on the application your using.\n* On a square grid that allows 4 directions of movement, use Manhattan distance.\n* On a square grid that allows 8 directions of movement, use Diagonal distance.\nThis is a video I’ve done using Manhattan distance using tile grids generated from a black and white image.\n","wordCount":"399","inLanguage":"en","datePublished":"2010-10-27T10:48:46Z","dateModified":"2010-10-27T10:48:46Z","author":{"@type":"Person","name":"David Amador"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.david-amador.com/2010/10/a-pathfinding/"},"publisher":{"@type":"Organization","name":"David Amador","logo":{"@type":"ImageObject","url":"https://www.david-amador.com/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.david-amador.com accesskey=h title="David Amador (Alt + H)"><img src=https://www.david-amador.com/apple-touch-icon.png alt aria-label=logo height=35>David Amador</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.david-amador.com/ title=Blog><span>Blog</span></a></li><li><a href=https://www.david-amador.com/games/ title=Games><span>Games</span></a></li><li><a href=https://www.david-amador.com/portfolio/ title=Portfolio><span>Portfolio</span></a></li><li><a href=https://www.david-amador.com/about/ title="About Me"><span>About Me</span></a></li><li><a href=https://www.david-amador.com/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://www.david-amador.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.david-amador.com>Home</a>&nbsp;»&nbsp;<a href=https://www.david-amador.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">A* Pathfinding</h1><div class=post-meta><span title='2010-10-27 10:48:46 +0000 UTC'>October 27, 2010</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;399 words&nbsp;·&nbsp;David Amador&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/2010-10-27-a-pathfinding.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>For my current project I’ve been working with A* as a <a href=http://en.wikipedia.org/wiki/Pathfinding#In_video_games>path-finding</a> solution.</p><p>Basically it’s a way to get from point A to point B.</p><p><img loading=lazy src=/wp-content/uploads/2010/10/750px-Pathfinding_2D_Illustration.svg_.png alt></p><p>This is used for AI in games mostly on tiled based games, It’s very simple to understand and implement.</p><p>As A* traverses the graph, it follows a path of the lowest known cost, keeping a sorted priority queue of alternate path segments along the way. If, at any point, a segment of the path being traversed has a higher cost than another encountered path segment, it abandons the higher-cost path segment and traverses the lower-cost path segment instead. This process continues until the goal is reached.</p><p><img loading=lazy src=http://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Pathfinding_A_Star.svg/500px-Pathfinding_A_Star.svg.png alt></p><p>The major choke point is the heuristic used to calculate which node to take next. I’ve started by using Manhattan Distance.<br>Its primary advantage is that it will generally get you to the target faster than most alternatives. Its primary drawback is that in a 8-way pathfinder so it is not guaranteed to give us the shortest possible path.</p><pre tabindex=0><code>&lt;pre lang=&#34;cpp&#34;&gt;
float cost = 10*(abs(currentX-targetX) + abs(currentY-targetY))
</code></pre><p>Although it works fast it’s not accurate and if I forced for finding the shortest possible it was rather slow for my 80×44 grid (3520 tiles), sometimes taking 3-4 seconds to find a path.</p><p>I decided to take another approach and using Diagonal Shortcut, its primary advantage is that, because it is balanced, it is able to fully consider small modifiers like a turning penalty or influence map modifier like having a non walkable tile, a rock, a tree, whatever. It is a bit slower than the Manhattan method, though.</p><pre tabindex=0><code>&lt;pre lang=&#34;cpp&#34;&gt;
float cost;
float xDistance = abs(currentX-targetX)
float yDistance = abs(currentY-targetY)
if (xDistance &gt; yDistance)
     cost = 14*yDistance + 10*(xDistance-yDistance)
else
     cost = 14*xDistance + 10*(yDistance-xDistance)
</code></pre><p>In case you are wondering the 10 and the 14 are to define if it’s a diagonal or a horizontal/vertical movement since diagonals take longer to traverse than straight lines of course.<br>After I’m getting much faster movements.</p><p>It’s not that Manhattan is worse and you shouldn’t use it, it all depends on the application your using.</p><p>* On a square grid that allows 4 directions of movement, use Manhattan distance.<br>* On a square grid that allows 8 directions of movement, use Diagonal distance.</p><p>This is a video I’ve done using Manhattan distance using tile grids generated from a black and white image.</p><p></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.david-amador.com/tags/ai/>AI</a></li><li><a href=https://www.david-amador.com/tags/astar/>AStar</a></li><li><a href=https://www.david-amador.com/tags/pathfinding/>pathfinding</a></li></ul><nav class=paginav><a class=prev href=https://www.david-amador.com/2010/11/my-2-cents-on-xblig-current-state/><span class=title>« Prev</span><br><span>My 2 cents on xblig current state</span>
</a><a class=next href=https://www.david-amador.com/2010/10/super-meat-boy-meat-dissection/><span class=title>Next »</span><br><span>Super Meat Boy, meat dissection</span></a></nav></footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//upfallstudios.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2024 <a href=https://www.david-amador.com>David Amador</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>