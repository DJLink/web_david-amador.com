<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>How to do a XNA fps counter | David Amador</title>
<meta name="keywords" content="XNA">
<meta name="description" content="Frame rate or FPS, how it is most commonly known is a way for you to know how many images per second is you game drawing. The more the better. Less then 30 and you start to see hiccups.
So how can you measure your frame rate in XNA?
Inside your game1 class declare these vars:
SpriteFont  _spr_font;
int _total_frames = 0;
float _elapsed_time = 0.0f;
int _fps = 0;
On function LoadContent() do
// Put the name of the font
_spr_font = Content.Load(&#34;kootenay&#34;); you have on your project
On the update pump do:">
<meta name="author" content="David Amador">
<link rel="canonical" href="https://www.david-amador.com/2009/11/how-to-do-a-xna-fps-counter/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.2c13149ef6637a8420c910182a7238d9bd313163d752ae39ada49bac8f1e7335.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://www.david-amador.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.david-amador.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.david-amador.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.david-amador.com/david-amador-pixel.png">
<link rel="mask-icon" href="https://www.david-amador.com/david-amador-pixel.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://www.david-amador.com/2009/11/how-to-do-a-xna-fps-counter/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><script defer src="https://eu.umami.is/script.js" data-website-id="8dd501c4-c632-4f5b-8bc9-8d339e3e26ed"></script>
<meta property="og:url" content="https://www.david-amador.com/2009/11/how-to-do-a-xna-fps-counter/">
  <meta property="og:site_name" content="David Amador">
  <meta property="og:title" content="How to do a XNA fps counter">
  <meta property="og:description" content="Frame rate or FPS, how it is most commonly known is a way for you to know how many images per second is you game drawing. The more the better. Less then 30 and you start to see hiccups.
So how can you measure your frame rate in XNA?
Inside your game1 class declare these vars:
SpriteFont _spr_font; int _total_frames = 0; float _elapsed_time = 0.0f; int _fps = 0; On function LoadContent() do
// Put the name of the font _spr_font = Content.Load(&#34;kootenay&#34;); you have on your project On the update pump do:">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2009-11-23T17:49:38+00:00">
    <meta property="article:modified_time" content="2009-11-23T17:49:38+00:00">
    <meta property="article:tag" content="XNA">
    <meta property="og:image" content="https://www.david-amador.com/wp-content/uploads/2009/11/xna_fps_counter.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://www.david-amador.com/wp-content/uploads/2009/11/xna_fps_counter.png">
<meta name="twitter:title" content="How to do a XNA fps counter">
<meta name="twitter:description" content="Frame rate or FPS, how it is most commonly known is a way for you to know how many images per second is you game drawing. The more the better. Less then 30 and you start to see hiccups.
So how can you measure your frame rate in XNA?
Inside your game1 class declare these vars:
SpriteFont  _spr_font;
int _total_frames = 0;
float _elapsed_time = 0.0f;
int _fps = 0;
On function LoadContent() do
// Put the name of the font
_spr_font = Content.Load(&#34;kootenay&#34;); you have on your project
On the update pump do:">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://www.david-amador.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to do a XNA fps counter",
      "item": "https://www.david-amador.com/2009/11/how-to-do-a-xna-fps-counter/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to do a XNA fps counter",
  "name": "How to do a XNA fps counter",
  "description": "Frame rate or FPS, how it is most commonly known is a way for you to know how many images per second is you game drawing. The more the better. Less then 30 and you start to see hiccups.\nSo how can you measure your frame rate in XNA?\nInside your game1 class declare these vars:\nSpriteFont _spr_font; int _total_frames = 0; float _elapsed_time = 0.0f; int _fps = 0; On function LoadContent() do\n// Put the name of the font _spr_font = Content.Load(\u0026#34;kootenay\u0026#34;); you have on your project On the update pump do:\n",
  "keywords": [
    "XNA"
  ],
  "articleBody": "Frame rate or FPS, how it is most commonly known is a way for you to know how many images per second is you game drawing. The more the better. Less then 30 and you start to see hiccups.\nSo how can you measure your frame rate in XNA?\nInside your game1 class declare these vars:\nSpriteFont _spr_font; int _total_frames = 0; float _elapsed_time = 0.0f; int _fps = 0; On function LoadContent() do\n// Put the name of the font _spr_font = Content.Load(\"kootenay\"); you have on your project On the update pump do:\nprotected override void Update(GameTime gameTime) { // Update _elapsed_time += (float)gameTime.ElapsedGameTime.TotalMilliseconds; // 1 Second has passed if (_elapsed_time \u003e= 1000.0f) { _fps = _total_frames; _total_frames = 0; _elapsed_time = 0; } // Allows the game to exit if (Keyboard.GetState().IsKeyDown(Keys.Escape)) this.Exit(); base.Update(gameTime); } Finally on Draw function do:\nprotected override void Draw(GameTime gameTime) { // Only update total frames when drawing _total_frames++; GraphicsDevice.Clear(Color.CornflowerBlue); spriteBatch.Begin(); spriteBatch.DrawString(_spr_font, string.Format(\"FPS={0}\", _fps), new Vector2(10.0f, 20.0f), Color.White); spriteBatch.End(); base.Draw(gameTime); } If everything went alright you should have a white counter on the upper left screen. You probably want to turn this into a drawable component or adjusting it to be an independent component on your engine.\nHere’s the project for VC# Express : download\nnote: For those who have asked me why do I use a prefix _ on some variables. I use this to help me know which vars are members of the class and which aren’t. I don’t like using mPosition, instead I use _Position.\n",
  "wordCount" : "254",
  "inLanguage": "en",
  "image":"https://www.david-amador.com/wp-content/uploads/2009/11/xna_fps_counter.png","datePublished": "2009-11-23T17:49:38Z",
  "dateModified": "2009-11-23T17:49:38Z",
  "author":{
    "@type": "Person",
    "name": "David Amador"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.david-amador.com/2009/11/how-to-do-a-xna-fps-counter/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "David Amador",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.david-amador.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.david-amador.com/" accesskey="h" title="David Amador (Alt + H)">
                <img src="https://www.david-amador.com/david-amador-pixel.png" alt="" aria-label="logo"
                    height="35">David Amador</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.david-amador.com/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://www.david-amador.com/games/" title="Games">
                    <span>Games</span>
                </a>
            </li>
            <li>
                <a href="https://www.david-amador.com/portfolio/" title="Portfolio">
                    <span>Portfolio</span>
                </a>
            </li>
            <li>
                <a href="https://www.david-amador.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://www.david-amador.com/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://www.david-amador.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://www.david-amador.com/">Home</a>&nbsp;»&nbsp;<a href="https://www.david-amador.com/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      How to do a XNA fps counter
    </h1>
    <div class="post-meta"><span title='2009-11-23 17:49:38 +0000 UTC'>November 23, 2009</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;254 words&nbsp;·&nbsp;David Amador

</div>
  </header> 
<figure class="entry-cover"><img loading="eager" src="https://www.david-amador.com/wp-content/uploads/2009/11/xna_fps_counter.png" alt="">
        
</figure>
  <div class="post-content"><p><a href="http://en.wikipedia.org/wiki/Frame_rate">Frame rate</a> or FPS, how it is most commonly known is a way for you to know how many images per second is you game drawing. The more the better. Less then 30 and you start to see hiccups.</p>
<p>So how can you measure your frame rate in XNA?</p>
<p>Inside your game1 class declare these vars:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">SpriteFont</span>  <span class="n">_spr_font</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">_total_frames</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">float</span> <span class="n">_elapsed_time</span> <span class="p">=</span> <span class="m">0.0f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">_fps</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span></code></pre></div><p>On function LoadContent() do</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// Put the name of the font</span>
</span></span><span class="line"><span class="cl"><span class="n">_spr_font</span> <span class="p">=</span> <span class="n">Content</span><span class="p">.</span><span class="n">Load</span><span class="p">(</span><span class="s">&#34;kootenay&#34;</span><span class="p">);</span> <span class="n">you</span> <span class="n">have</span> <span class="k">on</span> <span class="n">your</span> <span class="n">project</span>
</span></span></code></pre></div><p>On the update pump do:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"> <span class="kd">protected</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">Update</span><span class="p">(</span><span class="n">GameTime</span> <span class="n">gameTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Update</span>
</span></span><span class="line"><span class="cl">            <span class="n">_elapsed_time</span> <span class="p">+=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">gameTime</span><span class="p">.</span><span class="n">ElapsedGameTime</span><span class="p">.</span><span class="n">TotalMilliseconds</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">// 1 Second has passed</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">_elapsed_time</span> <span class="p">&gt;=</span> <span class="m">1000.0f</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">_fps</span> <span class="p">=</span> <span class="n">_total_frames</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="n">_total_frames</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="n">_elapsed_time</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">// Allows the game to exit</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">Keyboard</span><span class="p">.</span><span class="n">GetState</span><span class="p">().</span><span class="n">IsKeyDown</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="n">Escape</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="k">this</span><span class="p">.</span><span class="n">Exit</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">base</span><span class="p">.</span><span class="n">Update</span><span class="p">(</span><span class="n">gameTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></div><p>Finally on Draw function do:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">protected</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">Draw</span><span class="p">(</span><span class="n">GameTime</span> <span class="n">gameTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Only update total frames when drawing</span>
</span></span><span class="line"><span class="cl">            <span class="n">_total_frames</span><span class="p">++;</span>
</span></span><span class="line"><span class="cl">            <span class="n">GraphicsDevice</span><span class="p">.</span><span class="n">Clear</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">CornflowerBlue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">spriteBatch</span><span class="p">.</span><span class="n">Begin</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">spriteBatch</span><span class="p">.</span><span class="n">DrawString</span><span class="p">(</span><span class="n">_spr_font</span><span class="p">,</span> <span class="kt">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span><span class="s">&#34;FPS={0}&#34;</span><span class="p">,</span> <span class="n">_fps</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                <span class="k">new</span> <span class="n">Vector2</span><span class="p">(</span><span class="m">10.0f</span><span class="p">,</span> <span class="m">20.0f</span><span class="p">),</span> <span class="n">Color</span><span class="p">.</span><span class="n">White</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">spriteBatch</span><span class="p">.</span><span class="n">End</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">base</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">gameTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></div><p>If everything went alright you should have a white counter on the upper left screen. You probably want to turn this into a drawable component or adjusting it to be an independent component on your engine.</p>
<p><img alt="xna_fps_counter" loading="lazy" src="/wp-content/uploads/2009/11/xna_fps_counter.png"></p>
<p><strong>Here’s the project for VC# Express : <a href="/wp-content/uploads/2009/11/FpsCounter.zip">download</a></strong></p>
<blockquote>
<p>note: For those who have asked me why do I use a prefix _ on some variables. I use this to help me know which vars are members of the class and which aren’t. I don’t like using mPosition, instead I use _Position.</p>
</blockquote>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.david-amador.com/tags/xna/">XNA</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://www.david-amador.com/2009/12/basalt-and-sapphire-updates/">
    <span class="title">« Prev</span>
    <br>
    <span>Basalt and Sapphire Updates</span>
  </a>
  <a class="next" href="https://www.david-amador.com/2009/11/how-to-do-a-xna-log-file/">
    <span class="title">Next »</span>
    <br>
    <span>How to do a Xna Log file</span>
  </a>
</nav>

  </footer><div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "upfallstudios" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://www.david-amador.com/">David Amador</a></span>
	
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
