<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>XNA on David Amador</title>
    <link>https://www.david-amador.com/tags/xna/</link>
    <description>Recent content in XNA on David Amador</description>
    <image>
      <title>David Amador</title>
      <url>https://www.david-amador.com/david-amador-pixel.png</url>
      <link>https://www.david-amador.com/david-amador-pixel.png</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Thu, 11 Jun 2020 11:00:00 +0000</lastBuildDate>
    <atom:link href="https://www.david-amador.com/tags/xna/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Vizati 10th anniversary and making if free.</title>
      <link>https://www.david-amador.com/2020/06/vizati-10th-anniversary-and-making-if-free/</link>
      <pubDate>Thu, 11 Jun 2020 11:00:00 +0000</pubDate>
      <guid>https://www.david-amador.com/2020/06/vizati-10th-anniversary-and-making-if-free/</guid>
      <description>&amp;gt; Hey everyone, wow ok so first of all it‚Äôs been a long time since my last post, I keep telling myself I need to return to do more regular posts, but twitter kinda replaced it in many ways for my daily-rambles. However I‚Äôve been trying to work on something new and gotta get back to more regular blogging, but more on that later.
Second, but not least important, Vizati is turning 10 years old today (11 June 2010), feels only yesterday we (me coding and Rita with the art) were doing the first puzzles and trying to figure out the best way for making this a fun game.</description>
      <content:encoded><![CDATA[<p><a href="https://dj_link.itch.io/vizati"><img loading="lazy" src="/wp-content/uploads/2011/03/vizati_letterbox.jpg" alt=""  />
</a>&gt; Hey everyone, wow ok so first of all it‚Äôs been a long time since my last post, I keep telling myself I need to return to do more regular posts, but <a href="https://twitter.com/DJ_Link">twitter</a> kinda replaced it in many ways for my daily-rambles. However I‚Äôve been trying to work on something new and gotta get back to more regular blogging, but more on that later.</p>
<p>Second, but not least important, Vizati is turning 10 years old today (11 June 2010), feels only yesterday we (me coding and <a href="http://rita-silva.com/" title="rita-silva.com/">Rita</a> with the art) were doing the first puzzles and trying to figure out the best way for making this a fun game. Things changed a lot over the years and the original team is no longer working together, also because of OS updates, like the iOS versions etc or hardware not being around anymore the game has mostly vanished from all stores. The other day I was thinking about game preservation and thought it would be a shame to leave this only in our computers, combined with the 10th anniversary we decided to make it free to everyone, the original game can now be downloaded and played even on the newest Windows versions (thank you XNA).</p>
<p>Here‚Äôs the official <a href="https://dj_link.itch.io/vizati" title="https://dj_link.itch.io/vizati">itch.io</a> page, there you‚Äôll find not only the original XNA version that was being sold, but also an unfinished version using a custom engine that I build when porting it to iOS, this framework ended up powering <a href="https://www.questofdungeons.com" title="https://www.questofdungeons.com">Quest of Dungeons</a>, a game I made a few years after. It‚Äôs not finished but should be mostly playable, although only works in window mode.</p>
<p>I also created a GitHub repo, which has a couple more things, like the original website code, some screenshots, the code using for creating the XNA installer, PDF manual and a couple more things. This way those things will never get lost in case my computer + backups ever go bad.</p>
<p>Download: <a href="https://dj_link.itch.io/vizati">https://dj_link.itch.io/vizati</a><br>
GitHub: <a href="https://github.com/DJLink/Vizati">https://github.com/DJLink/Vizati</a></p>
<p>Hope you have fun, either you are rediscovering the game or playing it for the first time, it‚Äôs a product of it‚Äôs time, from an inexperienced team trying to make their first indie game, but I‚Äôm proud of how it turned out.</p>
<p>See you around!</p>
]]></content:encoded>
    </item>
    <item>
      <title>What are your target platforms for games?</title>
      <link>https://www.david-amador.com/2010/07/what-are-your-target-platforms-for-games/</link>
      <pubDate>Mon, 26 Jul 2010 20:37:41 +0000</pubDate>
      <guid>https://www.david-amador.com/2010/07/what-are-your-target-platforms-for-games/</guid>
      <description>I decided to run a little poll to track what platforms do you target as a game developer. I think this should be interesting. Please share this post link or the direct link to the poll (http://twtpoll.com/dar51l) so that we can have more accurate results.
The poll closes in about 6 days and you can select various options of course.</description>
      <content:encoded><![CDATA[<p>I decided to run a little poll to track what platforms do you target as a game developer. I think this should be interesting. Please share this post link or the direct link to the poll (<a href="http://twtpoll.com/dar51l">http://twtpoll.com/dar51l</a>) so that we can have more accurate results.</p>
<p>The poll closes in about 6 days and you can select various options of course.</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
]]></content:encoded>
    </item>
    <item>
      <title>Making a XNA Game Installer</title>
      <link>https://www.david-amador.com/2010/06/making-a-xna-game-installer/</link>
      <pubDate>Wed, 09 Jun 2010 22:28:16 +0000</pubDate>
      <guid>https://www.david-amador.com/2010/06/making-a-xna-game-installer/</guid>
      <description>I am going to start with a little rant about Visual Studio default Installer, you know, the one you can make for yout XNA games inside VS. Ugly and not very handy, sure it installs every dependency but doesn‚Äôt leave many options like‚Ä¶.hum‚Ä¶I don‚Äôt know choosing the location where you want to install?
Moving along‚Ä¶I discovered this little cool installer called InnoSetup, and best of all it‚Äôs free.
InnoSetup has different ways of you building a proper installer but I am going to cover the script way, much more control.</description>
      <content:encoded><![CDATA[<p>I am going to start with a little rant about Visual Studio default Installer, you know, the one you can make for yout XNA games inside VS. Ugly and not very handy, sure it installs every dependency but doesn‚Äôt leave many options like‚Ä¶.hum‚Ä¶I don‚Äôt know choosing the location where you want to install?</p>
<p>Moving along‚Ä¶I discovered this little cool installer called <a href="http://www.jrsoftware.org/isinfo.php">InnoSetup</a>, and best of all it‚Äôs free.</p>
<p>InnoSetup has different ways of you building a proper installer but I am going to cover the script way, much more control.</p>
<p>I found a little startup script from Caliban Darlock for XNA 2 I think and I modified it for XNA 3.1</p>
<p>Start by downloading <a href="http://www.microsoft.com/downloads/details.aspx?familyid=9b2da534-3e03-4391-8a4d-074b9f2bc1bf&amp;displaylang=en">vcredist_x86.exe</a>, <a href="http://www.microsoft.com/downloads/details.aspx?familyid=333325fd-ae52-4e35-b531-508d977d32a6&amp;displaylang=en">DotNetFX35Setup.exe</a> and <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=53867a2a-e249-4560-8011-98eb3e799ef2&amp;displaylang=en">xnafx31_redist.msi</a> and place them in a folder, I placed mine on D:\Game Development Tools\</p>
<p>Then onto the script</p>
<pre tabindex="0"><code>; Script generated by the Inno Setup Script Wizard.
; (Then extensively modified by Caliban Darklock.)
; (And yet again modified by David Amador) Should work property with XNA 3.1
; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!

; Enter the name of your game here
#define MyAppName &#34;Vizati&#34;

; Enter the name of your game and a version number here
#define MyAppVerName &#34;Vizati&#34;

; Enter the name of your company, or just your name
#define MyCompany &#34;Different Pixel&#34;

; Enter the URL of your website
#define MyAppURL &#34;https://dj_link.itch.io/vizati/&#34;

; Enter the path to your game project - check Visual Studio properties for the path
#define MyAppLocation &#34;D:\Projects\Vizati\Vizati&#34;

; Enter the name of your game executable
#define MyAppExeName &#34;Vizati.exe&#34;

; Enter the location where XNA Game Studio is installed
#define MyGameStudioLocation &#34;C:\Program Files (x86)\Microsoft XNA\XNA Game Studio\v3.1&#34;

; Enter the name for the correct version of the XNA Framework MSI
#define XNARedist &#34;xnafx31_redist.msi&#34;

; Enter the location where you have placed the VC and .NET redistributables
#define MyRedistLocation &#34;D:\Game Development Tools&#34;

; search microsoft.com for &#34;visual c++ sp1 redistributable&#34; to get the VC redist
; enter the name of the executable file here
#define VCRedist &#34;vcredist_x86.exe&#34;

; Download latest .NET from http://www.microsoft.com/net/ (download button on menu)
; enter the name of the executable file here
#define DotNetSetup &#34;DotNetFX35Setup.exe&#34;

; Once you&#39;ve filled in all the variables above and downloaded your redist packages,
; everything under this point should JUST WORK for most XNA projects.

[Setup]
AppName={#MyAppName}
AppVerName={#MyAppVerName}
AppPublisher={#MyCompany}
AppPublisherURL={#MyAppURL}
AppSupportURL={#MyAppURL}
AppUpdatesURL={#MyAppURL}
DefaultDirName={pf}\{#MyAppName}
DefaultGroupName={#MyAppName}
OutputBaseFilename={#MyAppName}Setup
Compression=lzma
SolidCompression=yes
SetupIconFile = &#34;D:\Projects\Vizati\Vizati\vizati.ico&#34;
UninstallIconFile = &#34;D:\Projects\Vizati\Vizati\vizati.ico&#34;

[Languages]
Name: english; MessagesFile: compiler:Default.isl

[Tasks]
Name: desktopicon; Description: {cm:CreateDesktopIcon}; GroupDescription: {cm:AdditionalIcons}; Flags: unchecked

[Files]
; DirectX and XNA Framework redistributables
Source: {#MyGameStudioLocation}\Redist\DX Redist\*; DestDir: {tmp}
Source: {#MyGameStudioLocation}\Redist\XNA FX Redist\{#XNARedist}; DestDir: {tmp}

; .NET and VC redistributables - VerifyDotNet35 MUST run BEFORE VerifyDotNet35sp1!
Source: {#MyRedistLocation}\{#DotNetSetup}; DestDir: {tmp}; AfterInstall: VerifyDotNet35
Source: {#MyRedistLocation}\{#VCRedist}; DestDir: {tmp}; AfterInstall: VerifyDotNet35sp1

; The game itself
Source: {#MyAppLocation}\bin\x86\Release\{#MyAppExeName}; DestDir: {app}; Flags: ignoreversion
Source: {#MyAppLocation}\bin\x86\Release\*; DestDir: {app}; Flags: ignoreversion recursesubdirs createallsubdirs

[Icons]
Name: {group}\{#MyAppName}; Filename: {app}\{#MyAppExeName}
Name: {group}\{cm:UninstallProgram,{#MyAppName}}; Filename: {uninstallexe}
Name: {commondesktop}\{#MyAppName}; Filename: {app}\{#MyAppExeName}; Tasks: desktopicon

[Run]
Filename: {tmp}\{#DotNetSetup}; Flags: skipifdoesntexist; Parameters: &#34;/q /noreboot&#34;
Filename: {tmp}\{#VCRedist}; Flags: skipifdoesntexist; Parameters: &#34;/q&#34;
Filename: {tmp}\dxsetup.exe; Parameters: /silent
Filename: msiexec.exe; Parameters: &#34;/quiet /i &#34;&#34;{tmp}\{#XNARedist}&#34;&#34;&#34;
Filename: {app}\{#MyAppExeName}; Description: {cm:LaunchProgram,{#MyAppName}}; Flags: nowait postinstall skipifsilent

; The code section doesn&#39;t like comments for some reason.
; VerifyDotNet35 removes the .NET setup if you already have .NET 3.5 installed.
; VerifyDotNet35sp1 removes the VC redist if you already have .NET 3.5 SP1, -or-
; if you don&#39;t have .NET 3.0 at all (it will be installed along with .NET 3.5).
; Using the skipifdoesntexist flag allows the setup to ignore the missing files.
[Code]
var
  hasDotNet3 :Boolean;
  hasDotNet3sp :Boolean;
  whichDotNet3sp :Cardinal;

procedure VerifyDotNet35();
begin
  hasDotNet3 := RegKeyExists(HKEY_LOCAL_MACHINE, &#39;SOFTWARE\Microsoft\NET Framework Setup\NDP\v3.5&#39;);
	if hasDotNet3 then
      DeleteFile(ExpandConstant(&#39;{tmp}\{#DotNetSetup}&#39;));
end;

procedure VerifyDotNet35sp1();
begin
  hasDotNet3sp := RegQueryDWordValue(HKEY_LOCAL_MACHINE, &#39;SOFTWARE\Microsoft\NET Framework Setup\NDP\v3.5&#39;, &#39;SP&#39;, whichDotNet3sp);
  if (hasDotNet3sp and (whichDotNet3sp &gt; 0)) or not hasDotNet3 then
      DeleteFile(ExpandConstant(&#39;{tmp}\{#VCRedist}&#39;));
end;
</code></pre><p>So you can basically copy paste this and save it as a .iss file. Should open on double click with Inno Setup Compiler once you install it.</p>
<p>It‚Äôs pretty straight forward and you can modify it with your paths and specific need.</p>
<p>Things to care about:<br>
<strong>#define MyAppLocation</strong> ‚Äì This is where your Game Project is, typically one folder below the solution<br>
<strong>#define MyGameStudioLocation</strong> Folder to XNA Game Studio 3.1 Installation<br>
<strong>#define MyRedistLocation</strong> Folder where vcredist_x86.exe and xnafx31_redist.msi and DotNetFX35Setup.exe should be</p>
<p>The installer will also fetch every file inside you Release Folder. So you might wanna delete those .pdb files before doing it.</p>
<p>Hit Compile and there you go.</p>
<p>If everything goes alright the installer should test the registry for XNA and .NET 3.5 and install it if needed. I used Virtual PC with a clean Windows XP installation to test it and it worked. XNA got installed =)</p>
]]></content:encoded>
    </item>
    <item>
      <title>Vizati on Windows Phone 7</title>
      <link>https://www.david-amador.com/2010/05/vizati-in-windows-phone-7/</link>
      <pubDate>Fri, 07 May 2010 20:41:09 +0000</pubDate>
      <guid>https://www.david-amador.com/2010/05/vizati-in-windows-phone-7/</guid>
      <description>It‚Äôs been awhile since my last post. I‚Äôve been utterly busy so I haven‚Äôt had the time for any tutorials.
This week I got an invitation from Jo√£o Ant√£o to showcase Vizati as part of his XNA Framework presentation. This occurred during the Imagine Cup final on Portugal.
I‚Äôve been playing with the WP7 tools and I decided to try and port Vizati to XNA 4.0 and give it a try on the emulator so I could show all 3 versions running simultaneous.</description>
      <content:encoded><![CDATA[<p>It‚Äôs been awhile since my last post. I‚Äôve been utterly busy so I haven‚Äôt had the time for any tutorials.<br>
This week I got an invitation from <a href="http://gozoomin.com/blogs/antao/">Jo√£o Ant√£o</a> to showcase <a href="https://web.archive.org/web/20150105005354/http://www.differentpixel.com/games/vizati/">Vizati</a> as part of his XNA Framework presentation. This occurred during the <a href="http://imaginecup.com/">Imagine Cup final on Portugal</a>.</p>
<p>I‚Äôve been playing with the WP7 tools and I decided to try and port Vizati to XNA 4.0 and give it a try on the emulator so I could show all 3 versions running simultaneous.<br>
The result was pretty good i think. It‚Äôs virtually identical.</p>
<p>You can see it for yourself, the speed on the video is not very good due to the screen capture software.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/hX18tuujAEY" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>Now for the tech part. Grabbing my 3.1 solution what have I made to have this running? What have I changed?</p>
<p>I had to create a XNA 4 empty project and add all code files and assets (no direct upgrade now)<br>
Had to change to TitleContainer for opening files, transparencies made with Color.A replaced to make use of <a href="https://web.archive.org/web/20100412140933/http://blogs.msdn.com:80/shawnhar/archive/2010/04/08/premultiplied-alpha-in-xna-game-studio-4-0.aspx">PreMultiplied Alpha</a>, basically using Color*Color.<br>
The assets are the same‚Ä¶</p>
<blockquote>
<p>Wait ‚Ä¶what? Why?</p>
</blockquote>
<p>Since this was a test I wanted to test how could the framework handle a simple platform change with minimal code changed, after all that‚Äôs the whole purpose of XNA. Of course on the final version proper assets will be placed but taking in account some 1024√ó1024 and higher images the results are pretty good.<br>
Notice the particle effects, there are around 2500 particles over there. And it‚Äôs on an emulator so I can‚Äôt wait to get my hands on the real deal.</p>
<p>Change the input to make use of the Touchscreen, and finally since I‚Äôm using my engine basalt I have <a href="/2010/03/xna-2d-independent-resolution-rendering/">independent resolution rendering</a> so I just told the system ‚Äúrun in 800√ó480 now‚Äù and the native resolution is still the PC/Xbox version one 1280√ó720.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Making Big Grass Tiled Backgrounds in XNA</title>
      <link>https://www.david-amador.com/2010/04/making-big-grass-tiles-in-xna/</link>
      <pubDate>Mon, 19 Apr 2010 21:57:12 +0000</pubDate>
      <guid>https://www.david-amador.com/2010/04/making-big-grass-tiles-in-xna/</guid>
      <description>I‚Äôve seen this quite a bit around on XNA forums and got 2 emails last week asking about this:
I want to make a 3000√ó3000 grass background by tiling this small grass image I have. Should I make one big image or should I make a for cycle drawing the image (3000/TileSize) times?
My answer is neither of them. The big image has a huge impact on every Draw and more, you are limiting your map to the max Texture Size the graphic card can handle.</description>
      <content:encoded><![CDATA[<p>I‚Äôve seen this quite a bit around on XNA forums and got 2 emails last week asking about this:</p>
<blockquote>
<p>I want to make a 3000√ó3000 grass background by tiling this small grass image I have. Should I make one big image or should I make a for cycle drawing the image (3000/TileSize) times?</p>
</blockquote>
<p>My answer is neither of them. The big image has a huge impact on every Draw and more, you are limiting your map to the max Texture Size the graphic card can handle.</p>
<p>The drawing lots of small images can actually work, if they are few. Let‚Äôs say your small texture size is 64√ó64. That means in order to fill up the 3000√ó3000 you have to draw it (3000/64) = 47 times. Since it‚Äôs a 3000√ó3000 that sums to (47√ó47) = 2209 Draws. Just for a background. Not to mention the rest of the actual game üòõ</p>
<p>What if you could do this in just one Draw()?</p>
<p>It‚Äôs very very easy to achieve this effect by setting TextureAddressMode to Wrap. Basically giving it a bigger Rectangle but telling to wrap the texture so you are gonna get tiles =)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">     <span class="n">spriteBatch</span><span class="p">.</span><span class="n">Begin</span><span class="p">(</span><span class="n">SpriteBlendMode</span><span class="p">.</span><span class="n">AlphaBlend</span><span class="p">,</span><span class="n">SpriteSortMode</span><span class="p">.</span><span class="n">Immediate</span><span class="p">,</span><span class="n">SaveStateMode</span><span class="p">.</span><span class="n">None</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="n">GraphicsDevice</span><span class="p">.</span><span class="n">SamplerStates</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">AddressU</span> <span class="p">=</span> <span class="n">TextureAddressMode</span><span class="p">.</span><span class="n">Wrap</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">     <span class="n">GraphicsDevice</span><span class="p">.</span><span class="n">SamplerStates</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">AddressV</span> <span class="p">=</span> <span class="n">TextureAddressMode</span><span class="p">.</span><span class="n">Wrap</span><span class="p">;</span>
</span></span></code></pre></div><p>Next we draw a texture with a big source rectangle</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">     <span class="n">Rectangle</span> <span class="n">source</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Rectangle</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">400</span><span class="p">,</span> <span class="m">200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">     <span class="n">spriteBatch</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">texture</span><span class="p">,</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">Zero</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">Color</span><span class="p">.</span><span class="n">White</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">Zero</span><span class="p">,</span> <span class="m">1.0f</span><span class="p">,</span> <span class="n">SpriteEffects</span><span class="p">.</span><span class="n">None</span><span class="p">,</span> <span class="m">0.5f</span><span class="p">);</span>
</span></span></code></pre></div><p>So instead of this:</p>
<p><a href="/wp-content/uploads/2010/04/tiling_01.jpg"><img loading="lazy" src="/wp-content/uploads/2010/04/tiling_01-300x234.jpg" alt=""  title="tiling_01"  />
</a></p>
<p>You end up with this:</p>
<p><a href="/wp-content/uploads/2010/04/tiling_02.jpg"><img loading="lazy" src="/wp-content/uploads/2010/04/tiling_02-300x234.jpg" alt=""  title="tiling_02"  />
</a></p>
<p>On a small test I made, using a 30000√ó30000 Rectangle I got a frame drop to 35 FPS by doing tons of regular Draws, when switching to Wrap mode a solid 60 FPS.</p>
<p>As I told you it‚Äôs very easy. I‚Äôll write more advance tutorial one of this days on how to achieve cool effect like mixing two textures with a noise/normal map.</p>
<p>You can play with this sample by downloading it <a href="/xna_code/TilingSprites.zip">here</a>.</p>
]]></content:encoded>
    </item>
    <item>
      <title>XNA 2D Independent Resolution Rendering</title>
      <link>https://www.david-amador.com/2010/03/xna-2d-independent-resolution-rendering/</link>
      <pubDate>Fri, 26 Mar 2010 22:03:31 +0000</pubDate>
      <guid>https://www.david-amador.com/2010/03/xna-2d-independent-resolution-rendering/</guid>
      <description>Note: 22/04/2013 ‚Äì Due to popular request I made an article about achieving this effect in OpenGL
Independent Resolution Rendering?? What‚Äôs this all about?
Basically a way of not caring what you resolution is. Ever had Gui elements misplaced because you changed the resolution? Or getting out of the screen?
If you are doing a game on Xna just for Xbox360 you can basically use a 1280√ó720 base resolution and the Xbox will scale the game for you making the proper Letterbox.</description>
      <content:encoded><![CDATA[<blockquote>
<p>Note: 22/04/2013 ‚Äì Due to popular request I made an <a href="/2013/04/opengl-2d-independent-resolution-rendering/" title="OpenGL 2D Independent Resolution Rendering">article</a> about achieving this effect in OpenGL</p>
</blockquote>
<p>Independent Resolution Rendering?? What‚Äôs this all about?</p>
<p>Basically a way of not caring what you resolution is. Ever had Gui elements misplaced because you changed the resolution? Or getting out of the screen?</p>
<p>If you are doing a game on Xna just for Xbox360 you can basically use a 1280√ó720 base resolution and the Xbox will scale the game for you making the proper Letterbox.</p>
<p>But what about on Windows? Or if you use a different resolution on the Xbox? You have to manage that yourself.</p>
<p>I‚Äôve made a small example on how to achieve this.</p>
<p>By the means of a class that I called Resolution ( just change it for whatever you feel it‚Äôs better) you can set both Virtual and Actual Resolution. Virtual or Base resolution is what I call the actual resolution in which I‚Äôll work everything, and you stick with it, for both moving sprites, calculations etc. It‚Äôs your working Resolution. The other one is the resolution at which the game is rendering, which we want to be independent of the game. So the class will scale your Virtual to the Actual, making a <a href="http://en.wikipedia.org/wiki/Letterbox">LetterBox</a> or a <a href="http://en.wikipedia.org/wiki/Pillarbox">PillarBox</a> to match them.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">Resolution</span><span class="p">.</span><span class="n">SetVirtualResolution</span><span class="p">(</span><span class="m">1280</span><span class="p">,</span> <span class="m">720</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Resolution</span><span class="p">.</span><span class="n">SetResolution</span><span class="p">(</span><span class="m">800</span><span class="p">,</span> <span class="m">600</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
</span></span></code></pre></div><p>This is telling that you are working as if the game is on a 1280√ó720 but it is rendering on a window of 800√ó600.<br>
The third flag is fullscreen or windowed.</p>
<p>On the main Draw Pump just add the following so that the class can make the appropriate viewport.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">Resolution</span><span class="p">.</span><span class="n">BeginDraw</span><span class="p">();</span>
</span></span></code></pre></div><p>Next whenever you make a SpriteBatch.Begin() you have to pass the Resolution Scale Matrix as the forth parameter:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">spriteBatch</span><span class="p">.</span><span class="n">Begin</span><span class="p">(</span><span class="n">SpriteBlendMode</span><span class="p">.</span><span class="n">AlphaBlend</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                   <span class="n">SpriteSortMode</span><span class="p">.</span><span class="n">Immediate</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                   <span class="n">SaveStateMode</span><span class="p">.</span><span class="n">SaveState</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                   <span class="n">Resolution</span><span class="p">.</span><span class="n">getTransformationMatrix</span><span class="p">());</span>
</span></span></code></pre></div><p>Now you can draw everything on the same way you would normally do</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">spriteBatch</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">_texture</span><span class="p">,</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">Zero</span><span class="p">,</span> <span class="n">Color</span><span class="p">.</span><span class="n">White</span><span class="p">);</span>
</span></span></code></pre></div><p>This said you can now change to different Resolutions keeping the same base and the same code and this will scale everything for you, neat right?</p>
<p>Here are a few screenshots of an application (using Machinarium) with a Virtual resolution of 1024√ó768 on different real resolutions</p>
<p><a href="/wp-content/uploads/2010/03/Base_1024x768_Res_1280x800.jpg"><img loading="lazy" src="/wp-content/uploads/2010/03/Base_1024x768_Res_1280x800-300x193.jpg" alt=""  title="Base_1024x768_Res_1280x800"  />
</a><a href="/wp-content/uploads/2010/03/Base_1024x768_Res_1280x720.jpg"><img loading="lazy" src="/wp-content/uploads/2010/03/Base_1024x768_Res_1280x720-300x175.jpg" alt=""  title="Base_1024x768_Res_1280x720"  />
</a><a href="/wp-content/uploads/2010/03/Base_1024x768_Res_1024x768.jpg"><img loading="lazy" src="/wp-content/uploads/2010/03/Base_1024x768_Res_1024x768-300x232.jpg" alt=""  title="Base_1024x768_Res_1024x768"  />
</a><a href="/wp-content/uploads/2010/03/Base_1024x768_Res_800x600.jpg"><img loading="lazy" src="/wp-content/uploads/2010/03/Base_1024x768_Res_800x600-300x234.jpg" alt=""  title="Base_1024x768_Res_800x600"  />
</a></p>
<p>An another example (using Braid) with a Virtual Resolution of 1280√ó720</p>
<p><a href="/wp-content/uploads/2010/03/Base_1280x720_Res_1280x720.jpg"><img loading="lazy" src="/wp-content/uploads/2010/03/Base_1280x720_Res_1280x720-300x175.jpg" alt=""  title="Base_1280x720_Res_1280x720"  />
</a><a href="/wp-content/uploads/2010/03/Base_1280x720_Res_1280x800.jpg"><img loading="lazy" src="/wp-content/uploads/2010/03/Base_1280x720_Res_1280x800-300x193.jpg" alt=""  title="Base_1280x720_Res_1280x800"  />
</a><a href="/wp-content/uploads/2010/03/Base_1280x720_Res_800x600.jpg"><img loading="lazy" src="/wp-content/uploads/2010/03/Base_1280x720_Res_800x600-300x234.jpg" alt=""  title="Base_1280x720_Res_800x600"  />
</a><a href="/wp-content/uploads/2010/03/Base_1280x720_Res_480x640.jpg"><img loading="lazy" src="/wp-content/uploads/2010/03/Base_1280x720_Res_480x640-219x300.jpg" alt=""  title="Base_1280x720_Res_480x640"  />
</a></p>
<p>You can download the project with the source <a href="/xna_code/IndependentResolutionRendering.zip">here</a>. Once again if you run into any mistakes (most probably üòõ ) let me know.</p>
]]></content:encoded>
    </item>
    <item>
      <title>XNA 4.0 CTP and Windows Phone Developer Tools CTP now available for download</title>
      <link>https://www.david-amador.com/2010/03/xna-4-0-ctp-and-windows-phone-developer-tools-ctp-now-available-for-download/</link>
      <pubDate>Mon, 15 Mar 2010 23:42:34 +0000</pubDate>
      <guid>https://www.david-amador.com/2010/03/xna-4-0-ctp-and-windows-phone-developer-tools-ctp-now-available-for-download/</guid>
      <description>So I was watching Microsoft Mix10 and while talking about the new Windows Phone 7 Series, Scott Guthrie announced the availability of the Windows Phone Developer Tools CTP. What? But like now now?
I went to http://developer.windowsphone.com/ and XNA Creator‚Äôs Club and there it was. The packages contains:
A CTP of the new Visual Studio 2010 Express for Windows Phone Tools and framework to develop Windows Phone applications and games with Silverlight A CTP of XNA Game Studio 4.</description>
      <content:encoded><![CDATA[<p>So I was watching Microsoft <a href="http://live.visitmix.com/">Mix10</a> and while talking about the new Windows Phone 7 Series, Scott Guthrie announced the availability of the Windows Phone Developer Tools CTP. What? But like now now?</p>
<p>I went to <a href="http://developer.windowsphone.com/">http://developer.windowsphone.com/</a> and XNA Creator‚Äôs Club and there it was. The packages contains:</p>
<ul>
<li>A CTP of the new Visual Studio 2010 Express for Windows Phone</li>
<li>Tools and framework to develop Windows Phone applications and games with Silverlight</li>
<li>A CTP of XNA Game Studio 4.0 that allows you to develop Windows Phone games with the XNA Framework</li>
<li>A Windows Phone 7 Series emulator that can be used to deploy and debug Windows Phone applications and games</li>
<li>Add-on to allow you to use the Visual Studio 2010 Ultimate Release Candidate to develop Windows Phone applications and games if you have it installed</li>
</ul>
<p>Pretty good right? For those who have been living under a rock the XNA 4.0 brings another development platform, Windows Phone 7 series, which leaves us with XBOX360, PC and the new mobile.</p>
<p><img loading="lazy" src="/wp-content/uploads/2010/03/windows_phone_7.jpg" alt=""  title="windows_phone_7"  />
</p>
<p>XNA 4.0 CTP requires Visual Studio 2010, <a href="http://msdn.microsoft.com/en-us/vstudio/dd582936.aspx">download RC here</a>, and for now it only allows debugging on PC and Windows Phone by means of an emulator. No Xbox360 deployment for now so don‚Äôt go converting your games and engines for now.</p>
<p>Still this is a great way to test the new 4.0 features and Visual Studio which I honestly haven‚Äôt tried yet.</p>
<p>I started a new Windows Phone 4.0 project and decided to test the emulator, on the above video you can see the touch feature working, took me 4minutes to get that working. Very easy, can‚Äôt wait for XNA final version.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/jWf_Z4W9rsg" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p><strong>Some Images</strong></p>
<p><img loading="lazy" src="/wp-content/uploads/2010/03/visual_studio_2010.png" alt=""  />
</p>
<p><img loading="lazy" src="/wp-content/uploads/2010/03/windows_phone_emulator.png" alt=""  />
</p>
<p><img loading="lazy" src="/wp-content/uploads/2010/03/windows_phone_game_project.png" alt=""  />
</p>
<p><img loading="lazy" src="/wp-content/uploads/2010/03/xna4.0_new_project.png" alt=""  />
</p>
<p><img loading="lazy" src="/wp-content/uploads/2010/03/windows_phone_7.jpg" alt=""  />
</p>
<p>Notes for Game Studio developers (<a href="https://web.archive.org/web/20100305042530/http://blogs.msdn.com:80/shawnhar/">Shawn Hargreaves</a>):</p>
<ul>
<li>Although this CTP includes Game Studio 4.0 assemblies for Windows as well as Windows Phone, it only supports the Reach profile. If you try to create a HiDef game, you will get an error saying your hardware does not support HiDef capabilities. Don‚Äôt worry, this doesn‚Äôt mean your GPU sucks, just that we don‚Äôt support HiDef in the CTP.</li>
<li>The CTP does not support deployment to Xbox 360.</li>
<li>The automatic scaling and rotation feature is not included in the CTP, so for now you must always choose 480√ó800 portrait resolution. If you want to make a landscape game, or render at some other resolution, the best way is to draw your scene into a rendertarget, then rotate or scale while copying it to the screen using SpriteBatch. This is not the best approach for performance or battery life on actual phone hardware, but don‚Äôt worry, you can take out the rendertarget code out once we release final bits that support the image scaler.</li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>Vizati Teaser</title>
      <link>https://www.david-amador.com/2010/02/vizati-teaser/</link>
      <pubDate>Sun, 28 Feb 2010 23:50:15 +0000</pubDate>
      <guid>https://www.david-amador.com/2010/02/vizati-teaser/</guid>
      <description>Rita and I have been working on a demo for entering Dream Build Play competition and today she has finally finished the teaser for Vizati. It‚Äôs our game for entering the Dream Build Play 2010 competition and XNA Pizza Night. We started working on this around 3 weeks ago so it‚Äôs still an early draft from our vision of the game.
Vizati is a puzzle game made by Different Pixel for Dream Build Play 2010 in which you need to connect the little vizati stones by color.</description>
      <content:encoded><![CDATA[<p><a href="http://www.rita-silva.com">Rita</a> and I have been working on a demo for entering Dream Build Play competition and today she has finally finished the teaser for Vizati. It‚Äôs our game for entering the Dream Build Play 2010 competition and XNA Pizza Night. We started working on this around 3 weeks ago so it‚Äôs still an early draft from our vision of the game.</p>
<blockquote>
<p>Vizati is a puzzle game made by Different Pixel for Dream Build Play 2010 in which you need to connect the little vizati stones by color. There‚Äôs 2 different modes of playing it. One of them is story mode where the stone Vizati is discovered by some people and they try to find out what it is and uncover it‚Äôs secrets. The other one, Arcade mode is a more traditional way to play it but with special vizati stones and power-ups</p>
</blockquote>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/CzZipbjCvNs" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>Also for anyone who has interest in these sort of things here‚Äôs my first successful test on the 360 of Vizati</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/uyn8OpPJ40A" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

]]></content:encoded>
    </item>
    <item>
      <title>XNA Particle System 2D</title>
      <link>https://www.david-amador.com/2010/02/xna-particle-system-2d/</link>
      <pubDate>Fri, 19 Feb 2010 11:46:26 +0000</pubDate>
      <guid>https://www.david-amador.com/2010/02/xna-particle-system-2d/</guid>
      <description>It‚Äôs been a long week.
Even though I‚Äôve always pointed to a make a very simple game for Dream Build Play so that I may actually have the time to finish it I just lost almost two day doing something to show for about 3 or 4 seconds per level. Discussing how we should make our puzzle appear and disappear between each level we decided that a particle system or an effect of such nature would be nice to show apart from some fading or something on the puzzle itself.</description>
      <content:encoded><![CDATA[<p>It‚Äôs been a long week.<br>
Even though I‚Äôve always pointed to a make a very simple game for Dream Build Play so that I may actually have the time to finish it I just lost almost two day doing something to show for about 3 or 4 seconds per level. Discussing how we should make our puzzle appear and disappear between each level we decided that a particle system or an effect of such nature would be nice to show apart from some fading or something on the puzzle itself.<br>
Then it began, the one task that all programmers should ask someone else to do, because once you get the first one working you are gonna keep adding features because is so FUC**** pretty üòÄ</p>
<p><img loading="lazy" src="/wp-content/uploads/2010/02/ParticleSystem_Radial_Gravity.jpg" alt="ParticleSystem_Radial_Gravity.jpg"  />
</p>
<p>I decided the best way was to quick implement it on our editor Sapphire, it now features:<br>
‚Äì Color Interpolation<br>
‚Äì Alpha Interpolation<br>
‚Äì Scale Interpolation<br>
‚Äì Linear Gravity<br>
‚Äì Radial Gravity (This is more of a gravity Well, everything gets sucked in Geometry Wars style)</p>
<p>Here‚Äôs the video</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/SLd4PxJlVlE" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>Also I‚Äôve found out that this March 5th near where I live Microsoft is doing a XNA Pizza Night, it‚Äôs a contest with prizes to the best games, and best of all, free Pizza and Drinks for everyone. I‚Äôm gonna enter with the same game of course so wish me luck.</p>
]]></content:encoded>
    </item>
    <item>
      <title>I maed a Custom Script Language for my Xna Engine</title>
      <link>https://www.david-amador.com/2010/02/i-maed-a-custom-script-language-for-my-xna-engine/</link>
      <pubDate>Mon, 15 Feb 2010 00:29:42 +0000</pubDate>
      <guid>https://www.david-amador.com/2010/02/i-maed-a-custom-script-language-for-my-xna-engine/</guid>
      <description>Well the title is an Homage to James Silva‚Äòs I MAED A GAM3 W1TH Z0MB1ES!!!1
I‚Äôve been really busy with my Dream Build Play game lately. Although being a simple game somethings always turn out to be harder that we initial think. I‚Äôve been debating myself with some bugs on my engine, had to redo tons of code yesterday due to XBOX360 compatibilities (should have tested earlier :P). Two days ago Rita started doing the assets and it‚Äôs looking really good.</description>
      <content:encoded><![CDATA[<p>Well the title is an Homage to <a href="http://www.ska-studios.com/">James Silva</a>‚Äòs I MAED A GAM3 W1TH Z0MB1ES!!!1</p>
<p>I‚Äôve been really busy with my Dream Build Play game lately. Although being a simple game somethings always turn out to be harder that we initial think. I‚Äôve been debating myself with some bugs on my engine, had to redo tons of code yesterday due to XBOX360 compatibilities (should have tested earlier :P). Two days ago Rita started doing the assets and it‚Äôs looking really good.</p>
<p>Back to the development part yesterday I panicked when she asked me if it was possible to make some some small cutscenes on each level which could include moving images, changing an animation, trigger a sound, trigger another movement after another has finished etc.</p>
<p>Some triggers and such would be suffice but since I like a good challenge and always loved Lua on C++ I decided to do a little research just to find that there isn‚Äôt many options for XNA, luainterface only works on Windows.</p>
<p>I decided to write a little parser that finds functions from a file to C# delegates and vice versa.</p>
<p>Here‚Äôs an example of what one of my scripts look like:</p>
<pre tabindex="0"><code>
function game_start
	set_background_image  level2
	set_text name:level_indicator scene:main &#34;Level 2&#34;	
end
</code></pre><p>function indicates the beginning of a function. I can call it by doing:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ScriptManager</span><span class="p">.</span><span class="n">Invoke</span><span class="p">(</span><span class="s">&#34;game_start&#34;</span><span class="p">);</span>
</span></span></code></pre></div><p>No binding of any kind are need till this point. Now if you read the first instruction on the script its set_background_image which is bind to a c# function, something like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="n">ScriptManager</span><span class="p">.</span><span class="n">addBind</span><span class="p">(</span><span class="s">&#34;set_background_image&#34;</span><span class="p">,</span> <span class="n">SB_set_background_image</span><span class="p">);</span>
</span></span></code></pre></div><p>Easy right? So now I can call my game_start function that can call other stuff on C#, I just have to hook it to a function. Any leading parameters after the instruction are passed send to it. In this case ‚Äúlevel2‚Äù which is the image name.</p>
<p>Another cool stuff I‚Äôve made and that you can see on the video below is a sleep.</p>
<pre tabindex="0"><code>
function game_start
	set_background_image  level2
        sleep 2000
	set_text name:level_indicator scene:main &#34;Level 2&#34;	
end
</code></pre><p>In this case the function will ‚ÄúSleep‚Äù for 2 seconds before resuming the next Line, and yes the rest of the game still carries on its normal way.<br>
This may not seem much but after a few more tweaks I can make simple scripts pretty easy, not powerful as lua, not even close but it will work great for my Dream Build Play game.<br>
Watch the video below:</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/czJSQcE0kOo" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

]]></content:encoded>
    </item>
    <item>
      <title>Drawing Lines in XNA</title>
      <link>https://www.david-amador.com/2010/01/drawing-lines-in-xna/</link>
      <pubDate>Tue, 26 Jan 2010 00:40:48 +0000</pubDate>
      <guid>https://www.david-amador.com/2010/01/drawing-lines-in-xna/</guid>
      <description>One of the things I realized is very handy when prototyping or debugging is to draw a line on a specific location. Like drawing lines around collision boxes to see if your character is making a proper collision. For my games I‚Äôve made a small LineBatch.
Basically LineBatch uses a SpriteBatch to draw the lines by stretching a 1√ó1 white Texture2D to your line size.
You can give it 2 points ( start and end point of course) and a color.</description>
      <content:encoded><![CDATA[<p>One of the things I realized is very handy when prototyping or debugging is to draw a line on a specific location. Like drawing lines around collision boxes to see if your character is making a proper collision. For my games I‚Äôve made a small LineBatch.<br>
Basically LineBatch uses a SpriteBatch to draw the lines by stretching a 1√ó1 white Texture2D to your line size.<br>
You can give it 2 points ( start and end point of course) and a color. There‚Äôs an overload function that receives the Layer parameter.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">LineBatch</span><span class="p">::</span><span class="n">DrawLine</span><span class="p">(</span><span class="n">SpriteBatch</span> <span class="n">batch</span><span class="p">,</span> <span class="n">Color</span> <span class="n">color</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">point1</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">point2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">LineBatch</span><span class="p">::</span><span class="n">DrawLine</span><span class="p">(</span><span class="n">SpriteBatch</span> <span class="n">batch</span><span class="p">,</span> <span class="n">Color</span> <span class="n">color</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">point1</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">point2</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Layer</span><span class="p">);</span>
</span></span></code></pre></div><p>LineBatch is a static class, you only need to call LineBatch::Init(GraphicsDevice) somewhere on your code.<br>
Then use you can use like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">LineBatch</span><span class="p">.</span><span class="n">DrawLine</span><span class="p">(</span><span class="n">_spriteBatch</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="n">Color</span><span class="p">.</span><span class="n">Black</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="n">Vector2</span><span class="p">.</span><span class="n">Zero</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="k">new</span> <span class="n">Vector2</span><span class="p">(</span><span class="m">100</span><span class="p">,</span><span class="m">300</span><span class="p">));</span>
</span></span></code></pre></div><p>I‚Äôve made a small unit test that you can <a href="/xna_code/LineBatch.rar">download here</a>. Try clicking the screen to set a start and end point.</p>
<p><a href="/wp-content/uploads/2010/01/xna_linebatch.jpg"><img loading="lazy" src="/wp-content/uploads/2010/01/xna_linebatch-300x234.jpg" alt=""  title="xna_linebatch"  />
</a></p>
<p>Here‚Äôs a video showing the result:</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/GiKPSF_e880" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

]]></content:encoded>
    </item>
    <item>
      <title>Xna Screen Manager</title>
      <link>https://www.david-amador.com/2010/01/xna-screen-manager/</link>
      <pubDate>Sun, 24 Jan 2010 18:47:17 +0000</pubDate>
      <guid>https://www.david-amador.com/2010/01/xna-screen-manager/</guid>
      <description>I know there‚Äôs lot‚Äôs of this stuff over the internet but I keep bumping into people asking for this.
A way to easily switch from a Game Screen to a Menu or Options without having tons of flags and ‚Äúif‚Äù clauses on the class Game.
I‚Äôve made a small project with a Screen Manager. The ScreenManager is static and can contain Screens. Instead of having typical Draw Update functions drawing SpriteBatches on the Game class we should have something like this:</description>
      <content:encoded><![CDATA[<p>I know there‚Äôs lot‚Äôs of this stuff over the internet but I keep bumping into people asking for this.</p>
<p>A way to easily switch from a Game Screen to a Menu or Options without having tons of flags and ‚Äúif‚Äù clauses on the class Game.</p>
<p>I‚Äôve made a small project with a Screen Manager. The ScreenManager is static and can contain Screens. Instead of having typical Draw Update functions drawing SpriteBatches on the Game class we should have something like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"> <span class="kd">protected</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">Update</span><span class="p">(</span><span class="n">GameTime</span> <span class="n">gameTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Tell ScreenManager to Update</span>
</span></span><span class="line"><span class="cl">            <span class="n">SCREEN_MANAGER</span><span class="p">.</span><span class="n">Update</span><span class="p">(</span><span class="n">gameTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">base</span><span class="p">.</span><span class="n">Update</span><span class="p">(</span><span class="n">gameTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kd">protected</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">Draw</span><span class="p">(</span><span class="n">GameTime</span> <span class="n">gameTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Tell ScreenManager to draw</span>
</span></span><span class="line"><span class="cl">            <span class="n">SCREEN_MANAGER</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">gameTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">base</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">gameTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></div><p>This way we are telling the Screen Manager to handle the draws and Updates. And the ScreenManager then tell the active screen to Draw/Update.</p>
<p>In this sample if you press the keys ‚Äòm‚Äô or ‚Äòn‚Äô you can switch from screen1 to screen2 and vice-versa. Notice that the color changes, you are inside a different Screen now.</p>
<p>In order to add another screen it would be something simple as:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="k">class</span> <span class="nc">Screen3</span> <span class="p">:</span> <span class="n">Screen</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">public</span> <span class="n">Screen1</span><span class="p">(</span><span class="n">GraphicsDevice</span> <span class="n">device</span><span class="p">)</span> <span class="p">:</span><span class="k">base</span><span class="p">(</span><span class="n">device</span><span class="p">,</span><span class="s">&#34;screen3&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kd">public</span> <span class="kd">override</span> <span class="kt">bool</span> <span class="n">Init</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="k">base</span><span class="p">.</span><span class="n">Init</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kd">public</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">Shutdown</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">base</span><span class="p">.</span><span class="n">Shutdown</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kd">public</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">Draw</span><span class="p">(</span><span class="n">GameTime</span> <span class="n">gameTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">base</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">gameTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kd">public</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">Update</span><span class="p">(</span><span class="n">GameTime</span> <span class="n">gameTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">base</span><span class="p">.</span><span class="n">Update</span><span class="p">(</span><span class="n">gameTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>You can tell the Screen Manager to switch screen by doing:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">SCREEN_MANAGER</span><span class="p">.</span><span class="n">goto_screen</span><span class="p">(</span><span class="s">&#34;screen3&#34;</span><span class="p">);</span>
</span></span></code></pre></div><p>Screen Manager then calls the virtual function shutdown() of the current screen and then the init() of the requested Screen, so you might want to always override them for your purposes.</p>
<p>You‚Äôll understand better by viewing the code itself. Use it in any way you want. I now this example may not be the best solution but it gives a good start to those wanting to implement their own.</p>
<p><a href="/xna_code/ScreenManager.rar">Download the source</a>.</p>
<p><!-- raw HTML omitted -->EDIT: <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->(04-02-2010) Removed unused member _current; (Thanks Jason)<!-- raw HTML omitted --></p>
]]></content:encoded>
    </item>
    <item>
      <title>Basalt and Sapphire Updates</title>
      <link>https://www.david-amador.com/2009/12/basalt-and-sapphire-updates/</link>
      <pubDate>Wed, 02 Dec 2009 21:38:11 +0000</pubDate>
      <guid>https://www.david-amador.com/2009/12/basalt-and-sapphire-updates/</guid>
      <description>Lately all my free time has been spent adding new features to Basalt and developing Sapphire.
Some months ago, I started building Sapphire, a 2D editor for helping me creating to create my maps. Unfortunately I made a bad choice and decided to integrate XNA with Windows Forms, although I managed to do it it was a real pain to add something simple and eventually I dropped it.
Here‚Äôs a screenshot of the previous alpha version:</description>
      <content:encoded><![CDATA[<p>Lately all my free time has been spent adding new features to <a href="/tags/basalt/">Basalt</a> and developing <a href="/tags/sapphire/">Sapphire</a>.</p>
<p>Some months ago, I started building Sapphire, a 2D editor for helping me creating to create my maps. Unfortunately I made a bad choice and decided to integrate XNA with Windows Forms, although I managed to do it it was a real pain to add something simple and eventually I dropped it.</p>
<p>Here‚Äôs a screenshot of the previous alpha version:</p>
<p><a href="/wp-content/uploads/2009/08/Sapphire-Level-Editor.jpg"><img loading="lazy" src="/wp-content/uploads/2009/08/Sapphire-Level-Editor-150x150.jpg" alt="Sapphire Level Editor"  title="Sapphire Level Editor"  />
</a></p>
<p>I kept working on the engine itself and just making small prototypes for testing it. Finally 2 weeks ago I decided to start from scratch and just use xna to build it. Not much is done but I have little time after work to develop. Anyway I‚Äôm happy since I already have textures import, basic object positioning, scaling and a Layer System.</p>
<p><a href="/wp-content/uploads/2009/12/sapphire.jpg"><img loading="lazy" src="/wp-content/uploads/2009/12/sapphire-150x150.jpg" alt="sapphire"  title="sapphire"  />
</a></p>
<p>This is an early stage of the new editor, it‚Äôs from last week.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/D33185iWTQU" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>When I have some cool stuff I‚Äôll update a new video.</p>
<p>On the engine side, today I decided to add a Console component to the engine, much like Source Engine and Quake consoles, to input commands, here‚Äôs the result:</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/ZYNBfdu5UqM" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>Hopefully by the beginning of next year I‚Äôll have a beta version that I can release to the public for testing. I intend to launch a free and a payed version of the engine+ editor. My only dout is if I trim down some functions or just release it as free for non-commercial usage only.</p>
]]></content:encoded>
    </item>
    <item>
      <title>How to do a XNA fps counter</title>
      <link>https://www.david-amador.com/2009/11/how-to-do-a-xna-fps-counter/</link>
      <pubDate>Mon, 23 Nov 2009 17:49:38 +0000</pubDate>
      <guid>https://www.david-amador.com/2009/11/how-to-do-a-xna-fps-counter/</guid>
      <description>Frame rate or FPS, how it is most commonly known is a way for you to know how many images per second is you game drawing. The more the better. Less then 30 and you start to see hiccups.
So how can you measure your frame rate in XNA?
Inside your game1 class declare these vars:
SpriteFont _spr_font; int _total_frames = 0; float _elapsed_time = 0.0f; int _fps = 0; On function LoadContent() do</description>
      <content:encoded><![CDATA[<p><a href="http://en.wikipedia.org/wiki/Frame_rate">Frame rate</a> or FPS, how it is most commonly known is a way for you to know how many images per second is you game drawing. The more the better. Less then 30 and you start to see hiccups.</p>
<p>So how can you measure your frame rate in XNA?</p>
<p>Inside your game1 class declare these vars:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">SpriteFont</span>  <span class="n">_spr_font</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">_total_frames</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">float</span> <span class="n">_elapsed_time</span> <span class="p">=</span> <span class="m">0.0f</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">_fps</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span></code></pre></div><p>On function LoadContent() do</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// Put the name of the font</span>
</span></span><span class="line"><span class="cl"><span class="n">_spr_font</span> <span class="p">=</span> <span class="n">Content</span><span class="p">.</span><span class="n">Load</span><span class="p">(</span><span class="s">&#34;kootenay&#34;</span><span class="p">);</span> <span class="n">you</span> <span class="n">have</span> <span class="k">on</span> <span class="n">your</span> <span class="n">project</span>
</span></span></code></pre></div><p>On the update pump do:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"> <span class="kd">protected</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">Update</span><span class="p">(</span><span class="n">GameTime</span> <span class="n">gameTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Update</span>
</span></span><span class="line"><span class="cl">            <span class="n">_elapsed_time</span> <span class="p">+=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">gameTime</span><span class="p">.</span><span class="n">ElapsedGameTime</span><span class="p">.</span><span class="n">TotalMilliseconds</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">// 1 Second has passed</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">_elapsed_time</span> <span class="p">&gt;=</span> <span class="m">1000.0f</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">_fps</span> <span class="p">=</span> <span class="n">_total_frames</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="n">_total_frames</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="n">_elapsed_time</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">// Allows the game to exit</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">Keyboard</span><span class="p">.</span><span class="n">GetState</span><span class="p">().</span><span class="n">IsKeyDown</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="n">Escape</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="k">this</span><span class="p">.</span><span class="n">Exit</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">base</span><span class="p">.</span><span class="n">Update</span><span class="p">(</span><span class="n">gameTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></div><p>Finally on Draw function do:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">protected</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">Draw</span><span class="p">(</span><span class="n">GameTime</span> <span class="n">gameTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Only update total frames when drawing</span>
</span></span><span class="line"><span class="cl">            <span class="n">_total_frames</span><span class="p">++;</span>
</span></span><span class="line"><span class="cl">            <span class="n">GraphicsDevice</span><span class="p">.</span><span class="n">Clear</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">CornflowerBlue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">spriteBatch</span><span class="p">.</span><span class="n">Begin</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">spriteBatch</span><span class="p">.</span><span class="n">DrawString</span><span class="p">(</span><span class="n">_spr_font</span><span class="p">,</span> <span class="kt">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span><span class="s">&#34;FPS={0}&#34;</span><span class="p">,</span> <span class="n">_fps</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                <span class="k">new</span> <span class="n">Vector2</span><span class="p">(</span><span class="m">10.0f</span><span class="p">,</span> <span class="m">20.0f</span><span class="p">),</span> <span class="n">Color</span><span class="p">.</span><span class="n">White</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">spriteBatch</span><span class="p">.</span><span class="n">End</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">base</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">gameTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></div><p>If everything went alright you should have a white counter on the upper left screen. You probably want to turn this into a drawable component or adjusting it to be an independent component on your engine.</p>
<p><img loading="lazy" src="/wp-content/uploads/2009/11/xna_fps_counter.png" alt="xna_fps_counter"  />
</p>
<p><strong>Here‚Äôs the project for VC# Express : <a href="/wp-content/uploads/2009/11/FpsCounter.zip">download</a></strong></p>
<blockquote>
<p>note: For those who have asked me why do I use a prefix _ on some variables. I use this to help me know which vars are members of the class and which aren‚Äôt. I don‚Äôt like using mPosition, instead I use _Position.</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>Using PerfHUD with XNA</title>
      <link>https://www.david-amador.com/2009/11/using-perfhud-with-xna/</link>
      <pubDate>Wed, 18 Nov 2009 15:16:54 +0000</pubDate>
      <guid>https://www.david-amador.com/2009/11/using-perfhud-with-xna/</guid>
      <description>I am definitely a fan of ATI cards. Had a few Geforces but didn‚Äôt liked them very much. I actually noticed image quality decrease when switching from an old Radeon 9800 to a Geforce 8k something. I‚Äôm very happy with my Radeon 4890, now for the downside, PerfHUD, a very handy tool for Game Developers is only available for NVIDIA chipsets and although ATI has it‚Äôs own GPUPerfStudio it‚Äôs not the same thing.</description>
      <content:encoded><![CDATA[<p>I am definitely a fan of ATI cards. Had a few Geforces but didn‚Äôt liked them very much. I actually noticed image quality decrease when switching from an old Radeon 9800 to a Geforce 8k something. I‚Äôm very happy with my Radeon 4890, now for the downside, PerfHUD, a very handy tool for Game Developers is only available for NVIDIA chipsets and although ATI has it‚Äôs own GPUPerfStudio it‚Äôs not the same thing.<br>
Anyway for those who have one and are developing for XNA you may have noticed that it doesn‚Äôt run PerfHUD out of the box.<br>
You will get an error, something like:<br>
<strong>‚ÄúThis applications is not configured for using PerfHUD. Consult the User‚Äôs Guide for more information‚Äù</strong></p>
<p><img loading="lazy" src="/wp-content/uploads/2009/11/perfHUD_Error.jpg" alt="perfHUD_Error"  title="perfHUD_Error"  />
]</p>
<p>Luckily there‚Äôs a little trick we can use to fix this, first we create a new class:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// class that inherits from GraphicsDeviceManager</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">PerfHUDGraphicDeviceManager</span> <span class="p">:</span> <span class="n">GraphicsDeviceManager</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kd">public</span> <span class="n">PerfHUDGraphicDeviceManager</span><span class="p">(</span><span class="n">Game</span> <span class="n">game</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">game</span><span class="p">)</span> <span class="c1">// Pass game to base class</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// We override the RankDevices to search for a PerfHUD</span>
</span></span><span class="line"><span class="cl">        <span class="kd">protected</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">RankDevices</span><span class="p">(</span><span class="n">List</span> <span class="n">foundDevices</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">base</span><span class="p">.</span><span class="n">RankDevices</span><span class="p">(</span><span class="n">foundDevices</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="kt">bool</span> <span class="n">has_perfHud</span> <span class="p">=</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">device</span> <span class="k">in</span> <span class="n">foundDevices</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="p">(</span><span class="n">device</span><span class="p">.</span><span class="n">Adapter</span><span class="p">.</span><span class="n">Description</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="s">&#34;PerfHUD&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">has_perfHud</span> <span class="p">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="k">break</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Found PerfHUD</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">has_perfHud</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="kt">var</span> <span class="n">temp</span> <span class="p">=</span> <span class="n">foundDevices</span><span class="p">.</span><span class="n">OrderBy</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="p">(</span><span class="n">gdi</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">!(</span><span class="n">gdi</span><span class="p">.</span><span class="n">Adapter</span><span class="p">.</span><span class="n">Description</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="s">&#34;PerfHUD&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="p">).</span><span class="n">ToArray</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                <span class="n">foundDevices</span><span class="p">.</span><span class="n">Clear</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">                <span class="n">foundDevices</span><span class="p">.</span><span class="n">AddRange</span><span class="p">(</span><span class="n">temp</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">dev</span> <span class="k">in</span> <span class="n">foundDevices</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">dev</span><span class="p">.</span><span class="n">DeviceType</span> <span class="p">=</span> <span class="n">DeviceType</span><span class="p">.</span><span class="n">Reference</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>This class basically searches for PerfHUD, so when you open it with it this class detects that the software exists and allows it‚Äôs usage. If not found, the regular GraphicDeviceManager is used. Now instead of creating a new GraphicsDeviceManager() on your Game class just do something like:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Game1</span> <span class="p">:</span> <span class="n">Game</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="kd">public</span> <span class="n">Game1</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="k">new</span> <span class="n">PerfHUDGraphicDeviceManager</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><img loading="lazy" src="/wp-content/uploads/2009/11/perfHUD_run.png" alt="perfHUD_run"  title="perfHUD_run"  />
]
<img loading="lazy" src="/wp-content/uploads/2009/11/perfHUD_working_xna.jpg" alt="perfHUD_working_xna"  title="perfHUD_working_xna"  />
]</p>
<p>I hope this helps.</p>
]]></content:encoded>
    </item>
  </channel>
</rss>
